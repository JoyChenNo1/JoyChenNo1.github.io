<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start --><link href="https://cdn.jsdelivr.net/npm/hexo-tag-common@latest/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>常见设计模式 | JoyChen's 知识星球</title><meta name="keywords" content="设计模式"><meta name="author" content="JoyChen"><meta name="copyright" content="JoyChen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="创建型模式单例模式(Singleton)单例模式介绍What is Singleton The Singleton design pattern grew out of a very simple idea thatyou should only have one instance of a particular component in your application. For example">
<meta property="og:type" content="article">
<meta property="og:title" content="常见设计模式">
<meta property="og:url" content="http://example.com/2020/07/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/design%20patterns/index.html">
<meta property="og:site_name" content="JoyChen&#39;s 知识星球">
<meta property="og:description" content="创建型模式单例模式(Singleton)单例模式介绍What is Singleton The Singleton design pattern grew out of a very simple idea thatyou should only have one instance of a particular component in your application. For example">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-5.png">
<meta property="article:published_time" content="2020-07-14T12:08:00.000Z">
<meta property="article:modified_time" content="2024-07-15T11:33:28.293Z">
<meta property="article:author" content="JoyChen">
<meta property="article:tag" content="设计模式">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-5.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2020/07/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/design%20patterns/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '常见设计模式',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-15 19:33:28'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/font.css"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">64</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">46</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-5.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">JoyChen's 知识星球</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">常见设计模式</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-07-14T12:08:00.000Z" title="发表于 2020-07-14 20:08:00">2020-07-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-15T11:33:28.293Z" title="更新于 2024-07-15 19:33:28">2024-07-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="创建型模式"><a href="#创建型模式" class="headerlink" title="创建型模式"></a>创建型模式</h2><h3 id="单例模式-Singleton"><a href="#单例模式-Singleton" class="headerlink" title="单例模式(Singleton)"></a>单例模式(Singleton)</h3><h4 id="单例模式介绍"><a href="#单例模式介绍" class="headerlink" title="单例模式介绍"></a>单例模式介绍</h4><p>What is Singleton</p>
<p>The Singleton design pattern grew out of a very simple idea that<br>you should only have one instance of a particular component in your application. For example, a component that loads a database into memory and offers a read-only interface is a prime candidate for a Singleton, since it really doesn’t make sense to waste memory storing several identical datasets. In fact, your application might have constraints such that two or more instances of the database simply won’t fit into memory, or will result in such a lack of memory as to cause the program to malfunction.</p>
<br/>

<h4 id="单例模式实现-C"><a href="#单例模式实现-C" class="headerlink" title="单例模式实现(C++)"></a>单例模式实现(C++)</h4><div class="tabs" id="singleton-c++"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#singleton-c++-1">C++11 线程安全的单例模式</button></li><li class="tab"><button type="button" data-href="#singleton-c++-2">C++17 Template 版本</button></li><li class="tab"><button type="button" data-href="#singleton-c++-3">C++17 Variadic Template 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="singleton-c++-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// 线程安全的单例模式</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mutex></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>
 
<span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> Singleton<span class="token operator">&amp;</span> <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>  
    <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
    <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token operator">&amp;</span> src<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">delete</span><span class="token punctuation">;</span>
    Singleton<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token operator">&amp;</span> rhs<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">delete</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>once_flag once_flag_<span class="token punctuation">;</span>
    <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>Singleton<span class="token operator">></span> instance_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

std<span class="token double-colon punctuation">::</span>once_flag Singleton<span class="token double-colon punctuation">::</span>once_flag_<span class="token punctuation">;</span>
std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>Singleton<span class="token operator">></span> Singleton<span class="token double-colon punctuation">::</span>instance_ <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
 
Singleton<span class="token operator">&amp;</span> <span class="token class-name">Singleton</span><span class="token double-colon punctuation">::</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">call_once</span><span class="token punctuation">(</span>once_flag_<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span>
      instance_<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token keyword">new</span> Singleton<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">*</span>instance_<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="singleton-c++-2"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span>
<span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token keyword">static</span> T <span class="token operator">&amp;</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token operator">&amp;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">delete</span><span class="token punctuation">;</span>
  Singleton <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">delete</span><span class="token punctuation">;</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
  <span class="token keyword">struct</span> <span class="token class-name">token</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">//  C++17 static inline</span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span>
<span class="token keyword">inline</span> T <span class="token operator">&amp;</span><span class="token class-name">Singleton</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span> instance<span class="token punctuation">&#123;</span><span class="token keyword">new</span> T<span class="token punctuation">&#123;</span>token<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token operator">*</span>instance<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">GlobalConfig</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> Singleton<span class="token operator">&lt;</span>GlobalConfig<span class="token operator">></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// Deprecated!!!</span>
  <span class="token comment">// friend Singleton&lt;GlobalConfig>;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token comment">// Using a constructor token to allow </span>
  <span class="token comment">// the base class to call the subclass's constructor </span>
  <span class="token comment">// without needing to be a friend.</span>
  <span class="token function">GlobalConfig</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Do GlobalConfig construction stuff~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token operator">~</span><span class="token function">GlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Do GlobalConfig destruction stuff~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">void</span> <span class="token function">GetConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Get global config now~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token comment">// ...</span>

<span class="token keyword">private</span><span class="token operator">:</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">GlobalConfig</span><span class="token double-colon punctuation">::</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="singleton-c++-3"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mutex></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span>
<span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Args<span class="token operator">></span>
    <span class="token keyword">static</span> T <span class="token operator">&amp;</span><span class="token function">GetInstance</span><span class="token punctuation">(</span>Args <span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>args<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span>

    <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token operator">&amp;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">delete</span><span class="token punctuation">;</span>
    Singleton <span class="token operator">&amp;</span><span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> Singleton<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">delete</span><span class="token punctuation">;</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
    <span class="token function">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>once_flag once_flag_<span class="token punctuation">;</span>
    <span class="token keyword">inline</span> <span class="token keyword">static</span> std<span class="token double-colon punctuation">::</span>unique_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span> instance_ <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span>
std<span class="token double-colon punctuation">::</span>once_flag Singleton<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token double-colon punctuation">::</span>once_flag_<span class="token punctuation">;</span>

<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span>
<span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> Args<span class="token operator">></span>
<span class="token keyword">inline</span> T <span class="token operator">&amp;</span><span class="token class-name">Singleton</span><span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">GetInstance</span><span class="token punctuation">(</span>Args <span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>args<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">&#123;</span>
    std<span class="token double-colon punctuation">::</span><span class="token function">call_once</span><span class="token punctuation">(</span>once_flag_<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span>
      instance_<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">T</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">forward</span><span class="token generic class-name"><span class="token operator">&lt;</span>Args<span class="token operator">></span></span></span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Singleton&lt;T> call once~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">*</span>instance_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">class</span> <span class="token class-name">GlobalConfig</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> Singleton<span class="token operator">&lt;</span>GlobalConfig<span class="token operator">></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Deprecated!!!</span>
    <span class="token comment">// friend Singleton&lt;GlobalConfig>;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token comment">// using a constructor token to allow </span>
    <span class="token comment">// the base class to call the subclass's constructor </span>
    <span class="token comment">// without needing to be a friend.</span>
    <span class="token function">GlobalConfig</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> 
    <span class="token operator">:</span> <span class="token function">x_</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y_</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"GlobalConfig construction~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">GlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"GlobalConfig default construction~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token operator">~</span><span class="token function">GlobalConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"GlobalConfig destruction~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">GetConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"get global config now, x,y:"</span> <span class="token operator">&lt;&lt;</span>  x_ <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> y_ <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> x_ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> y_ <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  	<span class="token comment">// variadic</span>
    <span class="token class-name">GlobalConfig</span><span class="token double-colon punctuation">::</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">GlobalConfig</span><span class="token double-colon punctuation">::</span><span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<h4 id="单例模式实现-Go"><a href="#单例模式实现-Go" class="headerlink" title="单例模式实现(Go)"></a>单例模式实现(Go)</h4><div class="tabs" id="singleton-golang"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#singleton-golang-1">singleton</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="singleton-golang-1"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> singleton

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"sync"</span>
<span class="token punctuation">)</span>

<span class="token comment">// Singleton 是单例模式接口，导出的</span>
<span class="token comment">// 通过该接口可以避免 GetInstance 返回一个包私有类型的指针</span>
<span class="token keyword">type</span> Singleton <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>
  <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// singleton 是单例模式类，包私有的</span>
<span class="token keyword">type</span> singleton <span class="token keyword">struct</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> <span class="token punctuation">(</span>
  instance <span class="token operator">*</span>singleton
  once     sync<span class="token punctuation">.</span>Once
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>s singleton<span class="token punctuation">)</span> <span class="token function">job</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">GetInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Singleton <span class="token punctuation">&#123;</span>
  once<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    instance <span class="token operator">=</span> <span class="token operator">&amp;</span>singleton<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> instance
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h3 id="简单工厂模式-Simple-Factory"><a href="#简单工厂模式-Simple-Factory" class="headerlink" title="简单工厂模式(Simple Factory)"></a>简单工厂模式(Simple Factory)</h3><h4 id="简单工厂模式介绍"><a href="#简单工厂模式介绍" class="headerlink" title="简单工厂模式介绍"></a>简单工厂模式介绍</h4><p>简单工厂模式是一种创建型设计模式，它提供了一种简单的方式来创建对象，而不需要暴露对象的创建逻辑。在这个模式中，我们将创建对象的责任交给一个专门的工厂函数。该函数根据参数不同，返回不同的实例对象。</p>
<br/>

<h4 id="简单工厂模式实现-C"><a href="#简单工厂模式实现-C" class="headerlink" title="简单工厂模式实现(C++)"></a>简单工厂模式实现(C++)</h4><div class="tabs" id="simple-factory-c++-版本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#simple-factory-c++-版本-1">Class: IAminal</button></li><li class="tab"><button type="button" data-href="#simple-factory-c++-版本-2">Class Dog</button></li><li class="tab"><button type="button" data-href="#simple-factory-c++-版本-3">Class: Tiger</button></li><li class="tab"><button type="button" data-href="#simple-factory-c++-版本-4">Class: AnimalFactory</button></li><li class="tab"><button type="button" data-href="#simple-factory-c++-版本-5">main</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="simple-factory-c++-版本-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">AnimalType</span> <span class="token punctuation">&#123;</span>
    Unknown<span class="token punctuation">,</span>
    Dog<span class="token punctuation">,</span> 
    Tiger
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">IAnimal</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">IAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"IAnimal released~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token function">IAnimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-c++-版本-2"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once </span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./animal.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">IAnimal</span></span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token operator">~</span><span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// dog eat shit!!!</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Dog eat shit!"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-c++-版本-3"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once </span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./animal.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">Tiger</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">IAnimal</span></span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Tiger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token operator">~</span><span class="token function">Tiger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Tiger go die~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// tiger eat meats!!!</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Tiger eat meat!"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-c++-版本-4"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once </span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./animal.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./dog.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./tiger.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">AnimalFactory</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">inline</span> <span class="token keyword">static</span> IAnimal<span class="token operator">*</span> <span class="token function">GetAnimal</span><span class="token punctuation">(</span>AnimalType t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">case</span> AnimalType<span class="token double-colon punctuation">::</span>Dog<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">&#125;</span> <span class="token keyword">case</span> AnimalType<span class="token double-colon punctuation">::</span>Tiger<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">Tiger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">&#125;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-c++-版本-5"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./animal_factory.h"</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   <span class="token keyword">auto</span> a <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">shared_ptr</span><span class="token generic class-name"><span class="token operator">&lt;</span>IAnimal<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token class-name">AnimalFactory</span><span class="token double-colon punctuation">::</span><span class="token function">GetAnimal</span><span class="token punctuation">(</span>AnimalType<span class="token double-colon punctuation">::</span>Tiger<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Lunch time~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        a<span class="token operator">-></span><span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<h4 id="简单工厂模式实现-Go"><a href="#简单工厂模式实现-Go" class="headerlink" title="简单工厂模式实现(Go)"></a>简单工厂模式实现(Go)</h4><div class="tabs" id="simple-factory-go-版本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#simple-factory-go-版本-1">Class: IAnimal</button></li><li class="tab"><button type="button" data-href="#simple-factory-go-版本-2">Class: Dog</button></li><li class="tab"><button type="button" data-href="#simple-factory-go-版本-3">Class: Tiger</button></li><li class="tab"><button type="button" data-href="#simple-factory-go-版本-4">Common Definations</button></li><li class="tab"><button type="button" data-href="#simple-factory-go-版本-5">Factory Function</button></li><li class="tab"><button type="button" data-href="#simple-factory-go-版本-6">main</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="simple-factory-go-版本-1"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> simplefactory

<span class="token keyword">type</span> IAnimal <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>
  <span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-go-版本-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> simplefactory

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> dog <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// Eat dog eating</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>dog<span class="token punctuation">)</span> <span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">`Dog eat shit!`</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-go-版本-3"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> simplefactory

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> tiger <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// Eat tiger eating</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>tiger<span class="token punctuation">)</span> <span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">`Tiger eat meat!`</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-go-版本-4"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> simplefactory

<span class="token comment">// 动物种类</span>
<span class="token keyword">type</span> AnimalSpecies <span class="token builtin">int8</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  AnimalUnknown AnimalSpecies <span class="token operator">=</span> <span class="token boolean">iota</span>
  AnimalSpeciesDog
  AnimalSpeciesTiger
<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-go-版本-5"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> simplefactory

<span class="token keyword">func</span> <span class="token function">NewAnimal</span><span class="token punctuation">(</span>species AnimalSpecies<span class="token punctuation">)</span> IAnimal <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> species <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> AnimalSpeciesDog<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>dog<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

  <span class="token keyword">case</span> AnimalSpeciesTiger<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>tiger<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="simple-factory-go-版本-6"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> simplefactory

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"testing"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">TestDogEat</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  animal <span class="token operator">:=</span> <span class="token function">NewAnimal</span><span class="token punctuation">(</span>AnimalSpeciesDog<span class="token punctuation">)</span>
  animal<span class="token punctuation">.</span><span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">TestTigerEat</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  animal <span class="token operator">:=</span> <span class="token function">NewAnimal</span><span class="token punctuation">(</span>AnimalSpeciesTiger<span class="token punctuation">)</span>
  animal<span class="token punctuation">.</span><span class="token function">Eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h3 id="工厂方法模式-Factory-Method"><a href="#工厂方法模式-Factory-Method" class="headerlink" title="工厂方法模式(Factory Method)"></a>工厂方法模式(Factory Method)</h3><h4 id="工厂方法模式介绍"><a href="#工厂方法模式介绍" class="headerlink" title="工厂方法模式介绍"></a>工厂方法模式介绍</h4><p>工厂方法模式是一种创建型设计模式，它定义了一个用于创建对象的接口，但是让子类决定实例化哪个类。在工厂方法模式中，客户端无需知道实际创建的对象类型，而只需调用工厂方法即可。</p>
<br/>

<h4 id="工厂方法模式实现-C"><a href="#工厂方法模式实现-C" class="headerlink" title="工厂方法模式实现(C++)"></a>工厂方法模式实现(C++)</h4><div class="tabs" id="factory-method-c++-版本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#factory-method-c++-版本-1">Class: Game</button></li><li class="tab"><button type="button" data-href="#factory-method-c++-版本-2">Class: CSgo</button></li><li class="tab"><button type="button" data-href="#factory-method-c++-版本-3">Class: PUBG</button></li><li class="tab"><button type="button" data-href="#factory-method-c++-版本-4">Class: GameMaker</button></li><li class="tab"><button type="button" data-href="#factory-method-c++-版本-5">main</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="factory-method-c++-版本-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once </span></span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">Currency</span> <span class="token punctuation">&#123;</span>
    RMB <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    Dollar<span class="token punctuation">,</span>
    Euro<span class="token punctuation">,</span>
    VietnamDong<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token comment">// 游戏价格</span>
<span class="token keyword">struct</span> <span class="token class-name">Payment</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> price<span class="token punctuation">;</span>
    Currency currency<span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Game</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Game</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">Game</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">set_price</span><span class="token punctuation">(</span><span class="token keyword">const</span> Payment<span class="token operator">&amp;</span> p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        price_ <span class="token operator">=</span> p<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">const</span> Payment <span class="token function">get_price</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> 
        <span class="token keyword">return</span> price_<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

    <span class="token comment">// ...</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    Payment price_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-c++-版本-2"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./game.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">CSgo</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> Game <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">CSgo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">CSgo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Here is the CSgo guidence~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-c++-版本-3"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./game.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">CSgo</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> Game <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">CSgo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">CSgo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Here is the CSgo guidence~"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-c++-版本-4"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./csgo.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./pubg.h"</span></span>

<span class="token comment">// GameMaker 游戏厂商基类</span>
<span class="token keyword">class</span> <span class="token class-name">GameMaker</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">GameMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">GameMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

    <span class="token comment">// factory method!!!</span>
    <span class="token keyword">virtual</span> Game<span class="token operator">*</span> <span class="token function">Make</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>


    <span class="token keyword">void</span> <span class="token function">Publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">auto</span> game <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">shared_ptr</span><span class="token generic class-name"><span class="token operator">&lt;</span>Game<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span><span class="token function">Make</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Going to publish the game! "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        game<span class="token operator">-></span><span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">// CSgo 游戏厂商</span>
<span class="token keyword">class</span> <span class="token class-name">Valve</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">GameMaker</span></span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    Game<span class="token operator">*</span> <span class="token function">Make</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">CSgo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token comment">// PUBG 游戏厂商</span>
<span class="token keyword">class</span> <span class="token class-name">Krafton</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">GameMaker</span></span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    Game<span class="token operator">*</span> <span class="token function">Make</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token function">PUBG</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-c++-版本-5"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./game_maker.h"</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 发行游戏 CSgo</span>
    <span class="token function">Valve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 发行游戏 PUBG</span>
    <span class="token function">Krafton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<h4 id="工厂方法模式实现-Go"><a href="#工厂方法模式实现-Go" class="headerlink" title="工厂方法模式实现(Go)"></a>工厂方法模式实现(Go)</h4><div class="tabs" id="factory-method-go-版本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#factory-method-go-版本-1">Common Definations</button></li><li class="tab"><button type="button" data-href="#factory-method-go-版本-2">Base Class: Game</button></li><li class="tab"><button type="button" data-href="#factory-method-go-版本-3">Game: CSgo</button></li><li class="tab"><button type="button" data-href="#factory-method-go-版本-4">Game: PUBG</button></li><li class="tab"><button type="button" data-href="#factory-method-go-版本-5">Base Class: GameMaker</button></li><li class="tab"><button type="button" data-href="#factory-method-go-版本-6">GameMaker: Valve</button></li><li class="tab"><button type="button" data-href="#factory-method-go-版本-7">GameMaker: Krafton</button></li><li class="tab"><button type="button" data-href="#factory-method-go-版本-8">main</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="factory-method-go-版本-1"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> factorymethod

<span class="token keyword">type</span> GameType <span class="token builtin">int8</span>
<span class="token keyword">type</span> CurrencyType <span class="token builtin">int8</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  GameTypeUnknown <span class="token operator">=</span> <span class="token boolean">iota</span>
  GameTypeCsgo
  GameTypePUBG
<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  RMBCurrency CurrencyType <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">1</span>
  DollarCurrency
  EuroCurrency
  VietnamDongCurrency
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Payment <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  Price    <span class="token builtin">int64</span>          <span class="token string">`json:"price"`</span>
  Currency CurrencyType <span class="token string">`json:"currency"`</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-go-版本-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> factorymethod

<span class="token comment">// Game base class of all games</span>
<span class="token keyword">type</span> Game <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// Guidence 游戏指南</span>
  <span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// Price 游戏售价</span>
  <span class="token function">Price</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Payment

  <span class="token comment">// AdjustPrice 游戏定价</span>
  <span class="token function">AdjustPrice</span><span class="token punctuation">(</span>Payment<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-go-版本-3"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> factorymethod

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> csgo <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  price Payment
  <span class="token comment">// ..</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewCSgo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Game <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span>csgo<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>csgo<span class="token punctuation">)</span> <span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`CSgo Play guidence`</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>csgo<span class="token punctuation">)</span> <span class="token function">Price</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Payment <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`Price of CSgo:`</span><span class="token punctuation">,</span> g<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
  <span class="token keyword">return</span> g<span class="token punctuation">.</span>price
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>csgo<span class="token punctuation">)</span> <span class="token function">AdjustPrice</span><span class="token punctuation">(</span>price Payment<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  g<span class="token punctuation">.</span>price <span class="token operator">=</span> price
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-go-版本-4"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> factorymethod

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> pubg <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  price Payment
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewPUBG</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Game <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span>pubg<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>pubg<span class="token punctuation">)</span> <span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`PUBG Play guidence`</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>pubg<span class="token punctuation">)</span> <span class="token function">Price</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Payment <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`Price of PUBG:`</span><span class="token punctuation">,</span> g<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
  <span class="token keyword">return</span> g<span class="token punctuation">.</span>price
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>pubg<span class="token punctuation">)</span> <span class="token function">AdjustPrice</span><span class="token punctuation">(</span>price Payment<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  g<span class="token punctuation">.</span>price <span class="token operator">=</span> price
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-go-版本-5"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> factorymethod

<span class="token comment">// base class of all game makers</span>
<span class="token keyword">type</span> GameMaker <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// Publish games to players</span>
  <span class="token function">Publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// Make develop a game</span>
  <span class="token function">Make</span><span class="token punctuation">(</span>t GameType<span class="token punctuation">)</span> Game
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-go-版本-6"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> factorymethod

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token comment">// game maker of csgo</span>
<span class="token keyword">type</span> valve <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">Valve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> GameMaker <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span>valve<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>valve<span class="token punctuation">)</span> <span class="token function">Make</span><span class="token punctuation">(</span>t GameType<span class="token punctuation">)</span> Game <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> t <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> GameTypeCsgo<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">NewCSgo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// other games of krafton publish</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>valve<span class="token punctuation">)</span> <span class="token function">Publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  csgo <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">Make</span><span class="token punctuation">(</span>GameTypeCsgo<span class="token punctuation">)</span>
  <span class="token keyword">if</span> csgo <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`CSgo is on the shelf~`</span><span class="token punctuation">)</span>
  <span class="token comment">// 定制售价</span>
  csgo<span class="token punctuation">.</span><span class="token function">AdjustPrice</span><span class="token punctuation">(</span>Payment<span class="token punctuation">&#123;</span>
    Price<span class="token punctuation">:</span>    <span class="token number">1000</span><span class="token punctuation">,</span>
    Currency<span class="token punctuation">:</span> DollarCurrency<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token comment">// 公开售价</span>
  csgo<span class="token punctuation">.</span><span class="token function">Price</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 发布游戏指南</span>
  csgo<span class="token punctuation">.</span><span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-go-版本-7"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> factorymethod

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token comment">// game maker of PUBG</span>
<span class="token keyword">type</span> krafton <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">Krafton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> GameMaker <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span>krafton<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>krafton<span class="token punctuation">)</span> <span class="token function">Make</span><span class="token punctuation">(</span>t GameType<span class="token punctuation">)</span> Game <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> t <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> GameTypePUBG<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">NewPUBG</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// other games of krafton publish</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>krafton<span class="token punctuation">)</span> <span class="token function">Publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  pubg <span class="token operator">:=</span> m<span class="token punctuation">.</span><span class="token function">Make</span><span class="token punctuation">(</span>GameTypePUBG<span class="token punctuation">)</span>
  <span class="token keyword">if</span> pubg <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`PUBG is on the shelf~`</span><span class="token punctuation">)</span>
  <span class="token comment">// 定制售价</span>
  pubg<span class="token punctuation">.</span><span class="token function">AdjustPrice</span><span class="token punctuation">(</span>Payment<span class="token punctuation">&#123;</span>
    Price<span class="token punctuation">:</span>    <span class="token number">500</span><span class="token punctuation">,</span>
    Currency<span class="token punctuation">:</span> RMBCurrency<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token comment">// 公开售价</span>
  pubg<span class="token punctuation">.</span><span class="token function">Price</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// 发布游戏指南</span>
  pubg<span class="token punctuation">.</span><span class="token function">Guidence</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="factory-method-go-版本-8"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> factorymethod

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"testing"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">TestPublishCSgo</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 发行游戏 CSgo</span>
  <span class="token function">Valve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">TestPublishPUBG</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 发行游戏 PUBG</span>
  <span class="token function">Krafton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Publish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h3 id="抽象工厂模式-Abstract-Factory"><a href="#抽象工厂模式-Abstract-Factory" class="headerlink" title="抽象工厂模式(Abstract Factory)"></a>抽象工厂模式(Abstract Factory)</h3><h4 id="抽象工厂模式的介绍"><a href="#抽象工厂模式的介绍" class="headerlink" title="抽象工厂模式的介绍"></a>抽象工厂模式的介绍</h4><p>Factory Method 与 Abstract Factory</p>
<p>The Factory Method pattern uses inheritance and relies on a subclass to handle the desired object instantiation.</p>
<p>The Abstract Factory pattern, a class delegates the responsibility of object instantiation to another object via composition.</p>
<p>抽象工厂模式是一种创建型设计模式，用于创建一系列相关或相互依赖的对象，而无需指定其具体类。</p>
<p>在抽象工厂模式中，我们定义一个抽象工厂接口，它包含多个工厂方法，每个工厂方法可以创建一类相关的对象。然后，我们创建一个具体工厂实现该接口，用于创建具体对象。</p>
<br/>

<h4 id="抽象工厂模式实现-C"><a href="#抽象工厂模式实现-C" class="headerlink" title="抽象工厂模式实现(C++)"></a>抽象工厂模式实现(C++)</h4><div class="tabs" id="abstract-factory-c++-版本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#abstract-factory-c++-版本-1">Common Definations</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-2">ICar</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-3">Car: AitoM7</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-4">Car: Zeekr001</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-5">Car: XiaomiSU7</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-6">CarFactory</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-7">Factory: 赛力斯</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-8">Factory: 吉利</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-9">Factory: 北汽集团</button></li><li class="tab"><button type="button" data-href="#abstract-factory-c++-版本-10">main</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="abstract-factory-c++-版本-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">Currency</span> <span class="token punctuation">&#123;</span>
    RMB <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
    Dollar<span class="token punctuation">,</span>
    Euro<span class="token punctuation">,</span>
    VietnamDong<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">Payment</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">int</span> price<span class="token punctuation">;</span>
    Currency currency<span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">ChinaCarFactory</span> <span class="token punctuation">&#123;</span>
    SERESFactory <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>   <span class="token comment">// 赛力斯</span>
    GEELYFactory<span class="token punctuation">,</span>       <span class="token comment">// 吉利</span>
    BAICGROUPFactory<span class="token punctuation">,</span>   <span class="token comment">// 北汽集团</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">ChinaModernCarType</span> <span class="token punctuation">&#123;</span>
    AitoM7 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>     <span class="token comment">// 问界M7</span>
    AitoM9<span class="token punctuation">,</span>         <span class="token comment">// 问界M9</span>
    Zeekr001<span class="token punctuation">,</span>       <span class="token comment">// 极氪001</span>
    XiaomiSU7<span class="token punctuation">,</span>      <span class="token comment">// 小米SU7</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-2"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>

<span class="token keyword">class</span> <span class="token class-name">ICar</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">ICar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">ICar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
    
    <span class="token comment">// 每个车型都有自己不同与其他车的驾驶体验</span>
    <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">DrivingExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    Payment <span class="token function">get_price</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"this car price:"</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>price_<span class="token punctuation">.</span>price <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>price_<span class="token punctuation">;</span> 
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">bool</span> <span class="token function">IsElectronic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"this car is electronic:"</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>is_electronic_ <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>is_electronic_<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">float</span> <span class="token function">get_mileage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"this car mileage:"</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>mileage_ <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>mileage_<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token operator">></span> <span class="token function">get_colors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"this car colors:"</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>colors_<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>colors_<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">set_price</span><span class="token punctuation">(</span><span class="token keyword">const</span> Payment<span class="token operator">&amp;</span> price<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token operator">-></span>price_ <span class="token operator">=</span> price<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">set_electronic</span><span class="token punctuation">(</span><span class="token keyword">bool</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token operator">-></span>is_electronic_ <span class="token operator">=</span> e<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">set_mileage</span><span class="token punctuation">(</span><span class="token keyword">float</span> m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token operator">-></span>mileage_ <span class="token operator">=</span> m<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">set_colors</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token operator">></span><span class="token operator">&amp;</span> colors<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token operator">-></span>colors_ <span class="token operator">=</span> colors<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    Payment price_<span class="token punctuation">;</span>
    <span class="token keyword">bool</span> is_electronic_<span class="token punctuation">;</span>
    <span class="token keyword">float</span> mileage_<span class="token punctuation">;</span>
    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>std<span class="token double-colon punctuation">::</span>string<span class="token operator">></span> colors_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-3"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./car.h"</span></span>

<span class="token comment">// 问界M7</span>
<span class="token keyword">class</span> <span class="token class-name">AitoM7</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> ICar <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">AitoM7</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_price</span><span class="token punctuation">(</span>Payment<span class="token punctuation">&#123;</span>
            <span class="token punctuation">.</span>price<span class="token operator">=</span><span class="token number">268000</span><span class="token punctuation">,</span>
            <span class="token punctuation">.</span>currency<span class="token operator">=</span>Currency<span class="token double-colon punctuation">::</span>RMB<span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_mileage</span><span class="token punctuation">(</span><span class="token number">720</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_colors</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token string">"White"</span><span class="token punctuation">,</span> 
            <span class="token string">"Gray"</span><span class="token punctuation">,</span> 
            <span class="token string">"Black"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_electronic</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">DrivingExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"M7 is suv, very comfortable"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-4"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once </span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./car.h"</span></span>

<span class="token comment">// 极氪001</span>
<span class="token keyword">class</span> <span class="token class-name">Zeekr001</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> ICar <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Zeekr001</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_price</span><span class="token punctuation">(</span>Payment<span class="token punctuation">&#123;</span>
            <span class="token punctuation">.</span>price<span class="token operator">=</span><span class="token number">226000</span><span class="token punctuation">,</span>
            <span class="token punctuation">.</span>currency<span class="token operator">=</span>Currency<span class="token double-colon punctuation">::</span>RMB<span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_mileage</span><span class="token punctuation">(</span><span class="token number">720.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_colors</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token string">"Black"</span><span class="token punctuation">,</span> 
            <span class="token string">"Gray"</span><span class="token punctuation">,</span> 
            <span class="token string">"White"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_electronic</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">DrivingExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Zeekr001 is popular with many families."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-5"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./car.h"</span></span>

<span class="token comment">// XiaomiSU7</span>
<span class="token keyword">class</span> <span class="token class-name">XiaomiSU7</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> ICar <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">XiaomiSU7</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_price</span><span class="token punctuation">(</span>Payment<span class="token punctuation">&#123;</span>
            <span class="token punctuation">.</span>price<span class="token operator">=</span><span class="token number">240000</span><span class="token punctuation">,</span>
            <span class="token punctuation">.</span>currency<span class="token operator">=</span>Currency<span class="token double-colon punctuation">::</span>RMB<span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_mileage</span><span class="token punctuation">(</span><span class="token number">700.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_colors</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            <span class="token string">"Blue"</span><span class="token punctuation">,</span> 
            <span class="token string">"Gray"</span><span class="token punctuation">,</span> 
            <span class="token string">"Olive Green"</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ICar</span><span class="token double-colon punctuation">::</span><span class="token function">set_electronic</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">DrivingExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"XiaomiSU7 is faster than porche, driving cool"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-6"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../common.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../car/car.h"</span></span>

<span class="token comment">// 汽车抽象工厂类</span>
<span class="token keyword">class</span> <span class="token class-name">ICarFactory</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">ICarFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">ICarFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
    <span class="token comment">// 造车</span>
    <span class="token keyword">virtual</span> std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICar<span class="token operator">></span> <span class="token function">MakeCar</span><span class="token punctuation">(</span>ChinaModernCarType car_type<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">// 返厂维修服务</span>
  <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">ReturnFactory4Repair</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICar<span class="token operator">></span><span class="token operator">&amp;</span> broken<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>

<span class="token keyword">private</span><span class="token operator">:</span>

<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-7"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./car_factory.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../car/aitom7.h"</span></span>

<span class="token comment">// 赛力斯汽车工厂</span>
<span class="token keyword">class</span> <span class="token class-name">SERESFactory</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">virtual</span> <span class="token keyword">public</span> <span class="token class-name">ICarFactory</span></span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICar<span class="token operator">></span> <span class="token function">MakeCar</span><span class="token punctuation">(</span>ChinaModernCarType car_type<span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>car_type<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">case</span> ChinaModernCarType<span class="token double-colon punctuation">::</span>AitoM7<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Incoming AitoM7..."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
                <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>AitoM7<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">&#125;</span> <span class="token keyword">default</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">ReturnFactory4Repair</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICar<span class="token operator">></span><span class="token operator">&amp;</span> broken<span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-8"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./car_factory.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../car/zeekr001.h"</span></span>

<span class="token comment">// 吉利汽车工厂</span>
<span class="token keyword">class</span> <span class="token class-name">GEELYFactory</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">virtual</span> <span class="token keyword">public</span> <span class="token class-name">ICarFactory</span></span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICar<span class="token operator">></span> <span class="token function">MakeCar</span><span class="token punctuation">(</span>ChinaModernCarType car_type<span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>car_type<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">case</span> ChinaModernCarType<span class="token double-colon punctuation">::</span>Zeekr001<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Incoming Zeekr001..."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
                <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>Zeekr001<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">&#125;</span> <span class="token keyword">default</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">ReturnFactory4Repair</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICar<span class="token operator">></span><span class="token operator">&amp;</span> broken<span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-9"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../car_factory/car_factory.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../car/xiaomisu7.h"</span></span>

<span class="token comment">// 北汽集团工厂</span>
<span class="token keyword">class</span> <span class="token class-name">BAICGROUPFactory</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">virtual</span> <span class="token keyword">public</span> <span class="token class-name">ICarFactory</span></span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICar<span class="token operator">></span> <span class="token function">MakeCar</span><span class="token punctuation">(</span>ChinaModernCarType car_type<span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>car_type<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">case</span> ChinaModernCarType<span class="token double-colon punctuation">::</span>XiaomiSU7<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Incoming XiaomiSU7..."</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
                <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>XiaomiSU7<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">&#125;</span> <span class="token keyword">default</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">void</span> <span class="token function">ReturnFactory4Repair</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICar<span class="token operator">></span><span class="token operator">&amp;</span> broken<span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// do reparing stuff...</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-c++-版本-10"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./car_factory/geely_factory.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./car_factory/seres_factory.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./car_factory/baicgroup_factory.h"</span></span>

<span class="token comment">// 汽车抽象工厂生成</span>
std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ICarFactory<span class="token operator">></span> <span class="token function">NewCarFactory</span><span class="token punctuation">(</span>ChinaCarFactory f<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">case</span> ChinaCarFactory<span class="token double-colon punctuation">::</span>SERESFactory<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>SERESFactory<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 赛力斯</span>

        <span class="token punctuation">&#125;</span> <span class="token keyword">case</span> ChinaCarFactory<span class="token double-colon punctuation">::</span>GEELYFactory<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>GEELYFactory<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 吉利</span>

        <span class="token punctuation">&#125;</span> <span class="token keyword">case</span> ChinaCarFactory<span class="token double-colon punctuation">::</span>BAICGROUPFactory<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>BAICGROUPFactory<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 北汽集团</span>

        <span class="token punctuation">&#125;</span>
        <span class="token keyword">default</span><span class="token operator">:</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// M7</span>
    <span class="token keyword">auto</span> f <span class="token operator">=</span> <span class="token function">NewCarFactory</span><span class="token punctuation">(</span>ChinaCarFactory<span class="token double-colon punctuation">::</span>GEELYFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>f <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">auto</span> car <span class="token operator">=</span> f<span class="token operator">-></span><span class="token function">MakeCar</span><span class="token punctuation">(</span>ChinaModernCarType<span class="token double-colon punctuation">::</span>Zeekr001<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>car <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    car<span class="token operator">-></span><span class="token function">get_price</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    car<span class="token operator">-></span><span class="token function">DrivingExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h4 id="抽象工厂模式实现-Go"><a href="#抽象工厂模式实现-Go" class="headerlink" title="抽象工厂模式实现(Go)"></a>抽象工厂模式实现(Go)</h4><div class="tabs" id="abstract-factory-go-版本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#abstract-factory-go-版本-1">CarFactory</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-2">Common Defination</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-3">Factory: 赛力斯</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-4">Factory: 吉利</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-5">Factory: 北汽集团</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-6">ICar</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-7">Car: 问界M7</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-8">Car: 极氪001</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-9">Car: 小米SU7</button></li><li class="tab"><button type="button" data-href="#abstract-factory-go-版本-10">main</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="abstract-factory-go-版本-1"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token keyword">type</span> CarFactory <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 造车</span>
  <span class="token function">MakeCar</span><span class="token punctuation">(</span>carType ChinaModernCarType<span class="token punctuation">)</span> Car
  <span class="token comment">// 返厂维修服务</span>
  <span class="token function">ReturnFactory4Repair</span><span class="token punctuation">(</span>broken <span class="token operator">*</span>Car<span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// NewCarFactory 抽象汽车工厂</span>
<span class="token keyword">func</span> <span class="token function">NewCarFactory</span><span class="token punctuation">(</span>factory ChinaCarFactory<span class="token punctuation">)</span> CarFactory <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> factory <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> SERESFactory<span class="token punctuation">:</span> <span class="token comment">// 赛力斯</span>
    <span class="token keyword">return</span> <span class="token function">NewSeresFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">case</span> GEELYFactory<span class="token punctuation">:</span> <span class="token comment">// 吉利</span>
    <span class="token keyword">return</span> <span class="token function">NewGeelyFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">case</span> BAICGROUPFactory<span class="token punctuation">:</span> <span class="token comment">// 北汽</span>
    <span class="token keyword">return</span> <span class="token function">NewBaicGroupFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token keyword">type</span> ChinaCarFactory <span class="token builtin">uint8</span>
<span class="token keyword">type</span> ChinaModernCarType <span class="token builtin">uint8</span>
<span class="token keyword">type</span> CurrencyType <span class="token builtin">uint8</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  SERESFactory     ChinaCarFactory <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 小康汽车 赛力斯</span>
  GEELYFactory                                <span class="token comment">// 吉利</span>
  BAICGROUPFactory                            <span class="token comment">// 北汽集团</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  AitoM7    ChinaModernCarType <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 问界M7</span>
  AitoM9                                  <span class="token comment">// 问界M9</span>
  Zeekr001                                <span class="token comment">// 极氪001</span>
  XiaomiSU7                               <span class="token comment">// 小米SU7</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">)</span>

<span class="token comment">// 售价</span>
<span class="token keyword">const</span> <span class="token punctuation">(</span>
  RMBCurrency CurrencyType <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">1</span>
  DollarCurrency
  EuroCurrency
  VietnamDongCurrency
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Payment <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  Price    <span class="token builtin">float32</span>      <span class="token string">`json:"price"`</span>
  Currency CurrencyType <span class="token string">`json:"currency"`</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-3"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token comment">// 赛力斯工厂</span>

<span class="token keyword">type</span> seres <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewSeresFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> CarFactory <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span>seres<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MakeCar 造车</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>seres<span class="token punctuation">)</span> <span class="token function">MakeCar</span><span class="token punctuation">(</span>carType ChinaModernCarType<span class="token punctuation">)</span> Car <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> carType <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> AitoM7<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">NewAitom7</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ReturnFactory4Repair 提供返厂维修服务</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>seres<span class="token punctuation">)</span> <span class="token function">ReturnFactory4Repair</span><span class="token punctuation">(</span>broken <span class="token operator">*</span>Car<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// do reparing stuff...</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-4"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token comment">// 吉利汽车工厂</span>

<span class="token keyword">type</span> geely <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewGeelyFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> CarFactory <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span>geely<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MakeCar 造车</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>geely<span class="token punctuation">)</span> <span class="token function">MakeCar</span><span class="token punctuation">(</span>carType ChinaModernCarType<span class="token punctuation">)</span> Car <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> carType <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> Zeekr001<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">NewZeekr001</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ReturnFactory4Repair 提供返厂维修服务</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>geely<span class="token punctuation">)</span> <span class="token function">ReturnFactory4Repair</span><span class="token punctuation">(</span>broken <span class="token operator">*</span>Car<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// do repairing stuff...</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-5"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token comment">// 北汽集团工厂</span>

<span class="token keyword">type</span> baicgroup <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewBaicGroupFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> CarFactory <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span>baicgroup<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// MakeCar 造车</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>baicgroup<span class="token punctuation">)</span> <span class="token function">MakeCar</span><span class="token punctuation">(</span>carType ChinaModernCarType<span class="token punctuation">)</span> Car <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> carType <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> XiaomiSU7<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token function">NewXiaomisu7</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// ReturnFactory4Repair 提供返厂维修服务</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>baicgroup<span class="token punctuation">)</span> <span class="token function">ReturnFactory4Repair</span><span class="token punctuation">(</span>broken <span class="token operator">*</span>Car<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// do repairing stuff...</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-6"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token keyword">type</span> Car <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 是否为电车</span>
  <span class="token function">IsElectric</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span>

  <span class="token comment">// 汽车售价</span>
  <span class="token function">MarketPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Payment

  <span class="token comment">// 续航</span>
  <span class="token function">Mileage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float32</span>

  <span class="token comment">// 驾驶体验</span>
  <span class="token function">DriverExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// CarBaseInfo 一台汽车的基础信息</span>
<span class="token keyword">type</span> CarBaseInfo <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  price   Payment
  colors  <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
  mileage <span class="token builtin">float32</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-7"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">// 问界M7</span>
<span class="token keyword">type</span> aitom7 <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  CarBaseInfo
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewAitom7</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Car <span class="token punctuation">&#123;</span>
  c <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>aitom7<span class="token punctuation">)</span>
  c<span class="token punctuation">.</span>price <span class="token operator">=</span> Payment<span class="token punctuation">&#123;</span>
    Price<span class="token punctuation">:</span>    <span class="token number">24.6</span><span class="token punctuation">,</span>
    Currency<span class="token punctuation">:</span> RMBCurrency<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  c<span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span>
    <span class="token string">`balck`</span><span class="token punctuation">,</span>
    <span class="token string">`gray`</span><span class="token punctuation">,</span>
    <span class="token string">`white`</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">&#125;</span>
  c<span class="token punctuation">.</span>mileage <span class="token operator">=</span> <span class="token number">756.0</span>
  <span class="token keyword">return</span> c
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>aitom7<span class="token punctuation">)</span> <span class="token function">IsElectric</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`zeekr001 IsElectric:`</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>aitom7<span class="token punctuation">)</span> <span class="token function">MarketPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Payment <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`zeekr001 price:`</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
  <span class="token keyword">return</span> c<span class="token punctuation">.</span>price
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>aitom7<span class="token punctuation">)</span> <span class="token function">Mileage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float32</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`zeekr001 mileage:`</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>mileage<span class="token punctuation">)</span>
  <span class="token keyword">return</span> c<span class="token punctuation">.</span>mileage
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>aitom7<span class="token punctuation">)</span> <span class="token function">Colors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`zeekr001 colors:`</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>colors<span class="token punctuation">)</span>
  <span class="token keyword">return</span> c<span class="token punctuation">.</span>colors
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>aitom7<span class="token punctuation">)</span> <span class="token function">DriverExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`M7 is the most comfortable suv`</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>aitom7<span class="token punctuation">)</span> <span class="token function">IsSUV</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`aitom7 IsSUV:`</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-8"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token comment">// 极氪001</span>
<span class="token keyword">type</span> zeekr001 <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  CarBaseInfo
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewZeekr001</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Car <span class="token punctuation">&#123;</span>
  c <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>zeekr001<span class="token punctuation">)</span>
  c<span class="token punctuation">.</span>price <span class="token operator">=</span> Payment<span class="token punctuation">&#123;</span>
    Price<span class="token punctuation">:</span>    <span class="token number">246000</span><span class="token punctuation">,</span>
    Currency<span class="token punctuation">:</span> RMBCurrency<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  c<span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span>
    <span class="token string">`black`</span><span class="token punctuation">,</span>
    <span class="token string">`brown`</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  c<span class="token punctuation">.</span>mileage <span class="token operator">=</span> <span class="token number">721.5</span>
  <span class="token keyword">return</span> c
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>zeekr001<span class="token punctuation">)</span> <span class="token function">IsElectric</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`zeekr001 IsElectric:`</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>zeekr001<span class="token punctuation">)</span> <span class="token function">MarketPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Payment <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`zeekr001 price:`</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
  <span class="token keyword">return</span> c<span class="token punctuation">.</span>price
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>zeekr001<span class="token punctuation">)</span> <span class="token function">Mileage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float32</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`zeekr001 mileage:`</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>mileage<span class="token punctuation">)</span>
  <span class="token keyword">return</span> c<span class="token punctuation">.</span>mileage
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>zeekr001<span class="token punctuation">)</span> <span class="token function">DriverExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`zeekr001 is popular to many families`</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-9"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token comment">// 小米su7</span>
<span class="token keyword">type</span> xiaomisu7 <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  CarBaseInfo
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewXiaomisu7</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Car <span class="token punctuation">&#123;</span>
  c <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>xiaomisu7<span class="token punctuation">)</span>
  c<span class="token punctuation">.</span>price <span class="token operator">=</span> Payment<span class="token punctuation">&#123;</span>
    Price<span class="token punctuation">:</span>    <span class="token number">224000</span><span class="token punctuation">,</span>
    Currency<span class="token punctuation">:</span> RMBCurrency<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  c<span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">&#123;</span>
    <span class="token string">`blue`</span><span class="token punctuation">,</span>
    <span class="token string">`gray`</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">&#125;</span>
  c<span class="token punctuation">.</span>mileage <span class="token operator">=</span> <span class="token number">700.0</span>
  <span class="token keyword">return</span> c
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>xiaomisu7<span class="token punctuation">)</span> <span class="token function">IsElectric</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`xiaomisu7 IsElectric:`</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>xiaomisu7<span class="token punctuation">)</span> <span class="token function">MarketPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Payment <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`xiaomisu7 price:`</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>price<span class="token punctuation">)</span>
  <span class="token keyword">return</span> c<span class="token punctuation">.</span>price
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>xiaomisu7<span class="token punctuation">)</span> <span class="token function">Mileage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float32</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`xiaomisu7 mileage:`</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>mileage<span class="token punctuation">)</span>
  <span class="token keyword">return</span> c<span class="token punctuation">.</span>mileage
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>xiaomisu7<span class="token punctuation">)</span> <span class="token function">Colors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`xiaomisu7 colors:`</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>colors<span class="token punctuation">)</span>
  <span class="token keyword">return</span> c<span class="token punctuation">.</span>colors
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>xiaomisu7<span class="token punctuation">)</span> <span class="token function">DriverExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">`xiaomisu7 is faster than porsche`</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="abstract-factory-go-版本-10"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> abstractfactory

<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token string">"testing"</span>
<span class="token punctuation">)</span>

<span class="token comment">// 问界M7</span>
<span class="token keyword">func</span> <span class="token function">TestMakeCarAitoM7</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  f <span class="token operator">:=</span> <span class="token function">NewCarFactory</span><span class="token punctuation">(</span>SERESFactory<span class="token punctuation">)</span>
  <span class="token keyword">if</span> f <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  c <span class="token operator">:=</span> f<span class="token punctuation">.</span><span class="token function">MakeCar</span><span class="token punctuation">(</span>AitoM7<span class="token punctuation">)</span>
  <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  c<span class="token punctuation">.</span><span class="token function">IsElectric</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">MarketPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">Mileage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">DriverExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 极氪001</span>
<span class="token keyword">func</span> <span class="token function">TestMakeCarZeekr001</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  f <span class="token operator">:=</span> <span class="token function">NewCarFactory</span><span class="token punctuation">(</span>GEELYFactory<span class="token punctuation">)</span>
  <span class="token keyword">if</span> f <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  c <span class="token operator">:=</span> f<span class="token punctuation">.</span><span class="token function">MakeCar</span><span class="token punctuation">(</span>Zeekr001<span class="token punctuation">)</span>
  <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  c<span class="token punctuation">.</span><span class="token function">IsElectric</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">MarketPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">Mileage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">DriverExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// 小米SU7</span>
<span class="token keyword">func</span> <span class="token function">TestMakeCarXiaomisu7</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  f <span class="token operator">:=</span> <span class="token function">NewCarFactory</span><span class="token punctuation">(</span>BAICGROUPFactory<span class="token punctuation">)</span>
  <span class="token keyword">if</span> f <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  c <span class="token operator">:=</span> f<span class="token punctuation">.</span><span class="token function">MakeCar</span><span class="token punctuation">(</span>XiaomiSU7<span class="token punctuation">)</span>
  <span class="token keyword">if</span> c <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  c<span class="token punctuation">.</span><span class="token function">IsElectric</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">MarketPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">Mileage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">DriverExperience</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h3 id="创建者模式-Builder"><a href="#创建者模式-Builder" class="headerlink" title="创建者模式(Builder)"></a>创建者模式(Builder)</h3><h4 id="创建者模式的介绍"><a href="#创建者模式的介绍" class="headerlink" title="创建者模式的介绍"></a>创建者模式的介绍</h4><p>  The Builder pattern is concerned with the creation of complicated objects, that is, objects that cannot be built up in a single-line constructor call. These types of objects may themselves be composed of other objects and might involve less-than-obvious logic, necessitating a separate component specifically dedicated to object construction.</p>
<p>Builder 是一种创造性的设计模式，可让您逐步构建复杂的对象。该模式允许您使用相同的构造代码生成对象的不同类型和表示形式。</p>
<br/>

<h4 id="创建者模式实现-C"><a href="#创建者模式实现-C" class="headerlink" title="创建者模式实现(C++)"></a>创建者模式实现(C++)</h4><div class="tabs" id="builder-c++版本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#builder-c++版本-1">Common Definations</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-2">ShoppingMall</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-3">Mall: 华润万象天地</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-4">Mall: 东部华侨城</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-5">Mall: 京基 KKONE</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-6">Builder</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-7">Builder: 华润集团</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-8">Builder: 华侨城集团</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-9">Builder: 京基集团</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-10">Director: 深圳市政府</button></li><li class="tab"><button type="button" data-href="#builder-c++版本-11">main</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="builder-c++版本-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">ShoppingMallType</span> <span class="token punctuation">&#123;</span>
    CoCoPark <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>   <span class="token comment">// 星河CoCoPark</span>
    MixCity<span class="token punctuation">,</span><span class="token comment">// 华润万象</span>
    KKone<span class="token punctuation">,</span><span class="token comment">// 京基大厦</span>
    OCT<span class="token punctuation">,</span> <span class="token comment">// 华侨城Oversea Chinese Town</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">enum</span> <span class="token keyword">class</span> <span class="token class-name">ChinaCity</span> <span class="token punctuation">&#123;</span>
  ShenzhenCity <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  ShanghaiCity<span class="token punctuation">,</span>
  BeijingCity<span class="token punctuation">,</span>
  GuangzhouCity<span class="token punctuation">,</span>
  ChengduCity<span class="token punctuation">,</span>
  Hangzhou<span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">Geometry</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">float</span> x<span class="token punctuation">;</span>
  <span class="token keyword">float</span> y<span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">struct</span> <span class="token class-name">ShoppingMallBaseInfo</span> <span class="token punctuation">&#123;</span>
  std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation">;</span>
  Geometry geometry<span class="token punctuation">;</span>       <span class="token comment">// 地理位置</span>
  <span class="token keyword">float</span> area<span class="token punctuation">;</span>             <span class="token comment">// 占地面积</span>
  <span class="token keyword">float</span> cost<span class="token punctuation">;</span>             <span class="token comment">// 花费建造成本</span>
  <span class="token keyword">float</span> visitor_flowrate<span class="token punctuation">;</span> <span class="token comment">// 容纳人流量</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-2"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"../common.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">ShoppingMall</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">ShoppingMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token function">ShoppingMall</span><span class="token punctuation">(</span><span class="token keyword">const</span> ShoppingMallBaseInfo<span class="token operator">&amp;</span> info<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">base_info_</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">ShoppingMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token comment">// set_area 规划占地面积</span>
  <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">set_area</span><span class="token punctuation">(</span><span class="token keyword">float</span> area<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        base_info_<span class="token punctuation">.</span>area <span class="token operator">=</span> area<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// set_cost 预估建造花费</span>
  <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">set_cost</span><span class="token punctuation">(</span><span class="token keyword">float</span> cost<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        base_info_<span class="token punctuation">.</span>cost <span class="token operator">=</span> cost<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// SetGeometry 选择地理位置</span>
  <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">set_geometry</span><span class="token punctuation">(</span><span class="token keyword">const</span> Geometry<span class="token operator">&amp;</span> g<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        base_info_<span class="token punctuation">.</span>geometry <span class="token operator">=</span> g<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// get_visitor_flowrate 获取每月客流量</span>
  <span class="token keyword">virtual</span> <span class="token keyword">float</span> <span class="token function">get_visitor_flowrate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> base_info_<span class="token punctuation">.</span>visitor_flowrate<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// get_name 名称</span>
  <span class="token keyword">virtual</span> std<span class="token double-colon punctuation">::</span>string <span class="token function">get_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> base_info_<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    ShoppingMallBaseInfo base_info_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-3"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./shopping_mall.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">MixCityMall</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> ShoppingMall <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">MixCityMall</span><span class="token punctuation">(</span><span class="token keyword">const</span> ShoppingMallBaseInfo<span class="token operator">&amp;</span> info<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">ShoppingMall</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token operator">~</span><span class="token function">MixCityMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-4"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./shopping_mall.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">EastOctMall</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> ShoppingMall <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">EastOctMall</span><span class="token punctuation">(</span><span class="token keyword">const</span> ShoppingMallBaseInfo<span class="token operator">&amp;</span> info<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">ShoppingMall</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token operator">~</span><span class="token function">EastOctMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-5"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"shopping_mall.h"</span></span>

<span class="token keyword">class</span> <span class="token class-name">KKoneMall</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> ShoppingMall <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">KKoneMall</span><span class="token punctuation">(</span><span class="token keyword">const</span> ShoppingMallBaseInfo<span class="token operator">&amp;</span> info<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">ShoppingMall</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token operator">~</span><span class="token function">KKoneMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-6"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"shopping_mall/shopping_mall.h"</span></span>

<span class="token keyword">using</span> ShoppingMallPtr <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>ShoppingMall<span class="token operator">></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">IBuilder</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">IBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token keyword">virtual</span> <span class="token operator">~</span><span class="token function">IBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token comment">// Design 设计</span>
  <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// Construction 施工</span>
  <span class="token keyword">virtual</span> <span class="token keyword">void</span> <span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// Mall 商场</span>
  <span class="token keyword">virtual</span> ShoppingMallPtr <span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-7"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"shopping_mall/mixcity.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./builder.h"</span></span>

<span class="token comment">// 华润集团</span>
<span class="token keyword">class</span> <span class="token class-name">Crc</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> IBuilder <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Crc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">mix_city_</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>MixCityMall<span class="token operator">></span></span></span><span class="token punctuation">(</span>ShoppingMallBaseInfo<span class="token punctuation">&#123;</span>
        <span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"华润万象天地"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token comment">// Design 设计</span>
  <span class="token keyword">void</span> <span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"华润设计"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// Construction 施工</span>
  <span class="token keyword">void</span> <span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"华润施工"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// Mall 商场</span>
  ShoppingMallPtr <span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>mix_city_<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>MixCityMall<span class="token operator">></span> mix_city_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-8"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./builder.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"shopping_mall/est_oct.h"</span></span>

<span class="token comment">// 华侨城集团</span>
<span class="token keyword">class</span> <span class="token class-name">Oct</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> IBuilder <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Oct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">east_oct_</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>EastOctMall<span class="token operator">></span></span></span><span class="token punctuation">(</span>ShoppingMallBaseInfo<span class="token punctuation">&#123;</span>
        <span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"东部华侨城"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token comment">// Design 设计</span>
  <span class="token keyword">void</span> <span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"华侨城集团设计"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// Construction 施工</span>
  <span class="token keyword">void</span> <span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"华侨城集团施工"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// Mall 商场</span>
  ShoppingMallPtr <span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>east_oct_<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>EastOctMall<span class="token operator">></span> east_oct_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-9"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"shopping_mall/kkone.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./builder.h"</span></span>

<span class="token comment">// 京基集团</span>
<span class="token keyword">class</span> <span class="token class-name">Kingjee</span> <span class="token keyword">final</span> <span class="token operator">:</span> <span class="token keyword">public</span> IBuilder <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Kingjee</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">kkone_</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>KKoneMall<span class="token operator">></span></span></span><span class="token punctuation">(</span>ShoppingMallBaseInfo<span class="token punctuation">&#123;</span>
        <span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">"京基KKONE"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token comment">// Design 设计</span>
  <span class="token keyword">void</span> <span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"京基集团设计"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// Construction 施工</span>
  <span class="token keyword">void</span> <span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"京基集团施工"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

  <span class="token comment">// Mall 商场</span>
  ShoppingMallPtr <span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">override</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>kkone_<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>KKoneMall<span class="token operator">></span> kkone_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-10"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>


<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./common.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./crc_builder.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./oct_builder.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./kingjee_builder.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"shopping_mall/shopping_mall.h"</span></span>

<span class="token keyword">using</span> IBuilderPtr <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>IBuilder<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token comment">// XX市政府</span>
<span class="token keyword">class</span> <span class="token class-name">Government</span> <span class="token punctuation">&#123;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Government</span><span class="token punctuation">(</span>ChinaCity city<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">city_</span><span class="token punctuation">(</span>city<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

    <span class="token comment">// 设置建造者</span>
    <span class="token keyword">void</span> <span class="token function">set_builder</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>shared_ptr<span class="token operator">&lt;</span>IBuilder<span class="token operator">></span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        builder_ <span class="token operator">=</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// 建商场</span>
    ShoppingMallPtr <span class="token function">BuildShoppingMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>builder_<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        builder_<span class="token operator">-></span><span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        builder_<span class="token operator">-></span><span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> builder_<span class="token operator">-></span><span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    ChinaCity city_<span class="token punctuation">;</span>
    IBuilderPtr builder_<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-c++版本-11"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./crc_builder.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./kingjee_builder.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./oct_builder.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"./government.h"</span></span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 深圳政府</span>
    Government <span class="token function">gov</span><span class="token punctuation">(</span>ChinaCity<span class="token double-colon punctuation">::</span>ShenzhenCity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 建立华润万象天地</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">auto</span> b <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>Crc<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gov<span class="token punctuation">.</span><span class="token function">set_builder</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span> m <span class="token operator">=</span> gov<span class="token punctuation">.</span><span class="token function">BuildShoppingMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> m<span class="token operator">-></span><span class="token function">get_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token comment">// 建立京基集团KKONE</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">auto</span> b <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make_shared</span><span class="token generic class-name"><span class="token operator">&lt;</span>Kingjee<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gov<span class="token punctuation">.</span><span class="token function">set_builder</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span> m <span class="token operator">=</span> gov<span class="token punctuation">.</span><span class="token function">BuildShoppingMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> m<span class="token operator">-></span><span class="token function">get_name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h4 id="创建者模式实现-Go"><a href="#创建者模式实现-Go" class="headerlink" title="创建者模式实现(Go)"></a>创建者模式实现(Go)</h4><div class="tabs" id="builder-go-版本"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#builder-go-版本-1">Common Definations</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-2">商场: 华侨城</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-3">商场: 华润万象天地</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-4">商场: KKOne</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-5">Builder</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-6">Builder: 华润集团</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-7">Builder: 华侨城集团</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-8">Builder: 京基集团</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-9">Director: XX市政府</button></li><li class="tab"><button type="button" data-href="#builder-go-版本-10">main</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="builder-go-版本-1"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token keyword">type</span> ShoppingMallType <span class="token builtin">uint8</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  CoCoPark ShoppingMallType <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 星河</span>
  MixCity                              <span class="token comment">// 华润万象</span>
  KKone                                <span class="token comment">// 京基大厦</span>
  OCT                                  <span class="token comment">// 华侨城Oversea Chinese Town</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> ChinaCity <span class="token builtin">uint8</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
  ShenzhenCity ChinaCity <span class="token operator">=</span> <span class="token boolean">iota</span> <span class="token operator">+</span> <span class="token number">1</span>
  ShanghaiCity
  BeijingCity
  GuangzhouCity
  ChengduCity
  Hangzhou
  <span class="token comment">// ...</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Geometry <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  x <span class="token builtin">float32</span>
  y <span class="token builtin">float32</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">type</span> ShoppingMallBaseInfo <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  Name            <span class="token builtin">string</span>
  Geometry        Geometry <span class="token comment">// 地理位置</span>
  Area            <span class="token builtin">float64</span>  <span class="token comment">// 占地面积</span>
  Cost            <span class="token builtin">float64</span>  <span class="token comment">// 花费建造成本</span>
  VisitorFlowrate <span class="token builtin">float64</span>  <span class="token comment">// 容纳人流量</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token comment">// OCTMall 华侨城</span>
<span class="token keyword">type</span> OCTMall <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  ShoppingMallBaseInfo
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>OCTMall<span class="token punctuation">)</span> <span class="token function">SetArea</span><span class="token punctuation">(</span>a <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Area <span class="token operator">=</span> a
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>OCTMall<span class="token punctuation">)</span> <span class="token function">SetGeometry</span><span class="token punctuation">(</span>g Geometry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Geometry <span class="token operator">=</span> g
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>OCTMall<span class="token punctuation">)</span> <span class="token function">SetCost</span><span class="token punctuation">(</span>cost <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Cost <span class="token operator">=</span> cost
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>OCTMall<span class="token punctuation">)</span> <span class="token function">GetVisitorFlowrate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token number">200000.12</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>OCTMall<span class="token punctuation">)</span> <span class="token function">SetName</span><span class="token punctuation">(</span>n <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Name <span class="token operator">=</span> n
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>OCTMall<span class="token punctuation">)</span> <span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> m<span class="token punctuation">.</span>Name
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-3"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token comment">// MixCityMall 华润万象天地</span>
<span class="token keyword">type</span> MixCityMall <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  ShoppingMallBaseInfo
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>MixCityMall<span class="token punctuation">)</span> <span class="token function">SetArea</span><span class="token punctuation">(</span>a <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Area <span class="token operator">=</span> a
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>MixCityMall<span class="token punctuation">)</span> <span class="token function">SetGeometry</span><span class="token punctuation">(</span>g Geometry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Geometry <span class="token operator">=</span> g
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>MixCityMall<span class="token punctuation">)</span> <span class="token function">SetCost</span><span class="token punctuation">(</span>cost <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Cost <span class="token operator">=</span> cost
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>MixCityMall<span class="token punctuation">)</span> <span class="token function">GetVisitorFlowrate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token number">1000000.1</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>MixCityMall<span class="token punctuation">)</span> <span class="token function">SetName</span><span class="token punctuation">(</span>n <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Name <span class="token operator">=</span> n
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>MixCityMall<span class="token punctuation">)</span> <span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> m<span class="token punctuation">.</span>Name
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-4"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token comment">// KKOne 京基大厦购物中心</span>
<span class="token keyword">type</span> KKOne <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  ShoppingMallBaseInfo
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>KKOne<span class="token punctuation">)</span> <span class="token function">SetArea</span><span class="token punctuation">(</span>a <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Area <span class="token operator">=</span> a
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>KKOne<span class="token punctuation">)</span> <span class="token function">SetGeometry</span><span class="token punctuation">(</span>g Geometry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Geometry <span class="token operator">=</span> g
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>KKOne<span class="token punctuation">)</span> <span class="token function">SetCost</span><span class="token punctuation">(</span>cost <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Cost <span class="token operator">=</span> cost
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>KKOne<span class="token punctuation">)</span> <span class="token function">GetVisitorFlowrate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token number">400000.66</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>KKOne<span class="token punctuation">)</span> <span class="token function">SetName</span><span class="token punctuation">(</span>n <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  m<span class="token punctuation">.</span>Name <span class="token operator">=</span> n
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>m <span class="token operator">*</span>KKOne<span class="token punctuation">)</span> <span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> m<span class="token punctuation">.</span>Name
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-5"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token keyword">type</span> Builder <span class="token keyword">interface</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// Design 设计</span>
  <span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// Construction 施工</span>
  <span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// Mall 商场</span>
  <span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ShoppingMall
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-6"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token comment">// 华润集团</span>

<span class="token keyword">type</span> crcBuilder <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  mixCity MixCityMall
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewCrcBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Builder <span class="token punctuation">&#123;</span>
  b <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>crcBuilder<span class="token punctuation">)</span>
  b<span class="token punctuation">.</span>mixCity<span class="token punctuation">.</span>Name <span class="token operator">=</span> <span class="token string">`MixCity`</span>
  <span class="token keyword">return</span> b
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>crcBuilder<span class="token punctuation">)</span> <span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>crcBuilder<span class="token punctuation">)</span> <span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>crcBuilder<span class="token punctuation">)</span> <span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ShoppingMall <span class="token punctuation">&#123;</span>

  <span class="token keyword">return</span> <span class="token operator">&amp;</span>b<span class="token punctuation">.</span>mixCity
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-7"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token comment">// 华侨城集团</span>

<span class="token keyword">type</span> octBuilder <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  estOct OCTMall
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewOctBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Builder <span class="token punctuation">&#123;</span>
  b <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>octBuilder<span class="token punctuation">)</span>
  b<span class="token punctuation">.</span>estOct<span class="token punctuation">.</span><span class="token function">SetName</span><span class="token punctuation">(</span><span class="token string">`OCT East`</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">return</span> <span class="token function">new</span><span class="token punctuation">(</span>octBuilder<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>octBuilder<span class="token punctuation">)</span> <span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>octBuilder<span class="token punctuation">)</span> <span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>octBuilder<span class="token punctuation">)</span> <span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ShoppingMall <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token operator">&amp;</span>b<span class="token punctuation">.</span>estOct
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-8"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token comment">// 京基集团</span>

<span class="token keyword">type</span> kingjeeBuilder <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  kkone KKOne
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewKingjeeBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Builder <span class="token punctuation">&#123;</span>
  b <span class="token operator">:=</span> <span class="token function">new</span><span class="token punctuation">(</span>kingjeeBuilder<span class="token punctuation">)</span>
  b<span class="token punctuation">.</span>kkone<span class="token punctuation">.</span><span class="token function">SetName</span><span class="token punctuation">(</span><span class="token string">`KKONE`</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
  <span class="token keyword">return</span> b
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>kingjeeBuilder<span class="token punctuation">)</span> <span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>kingjeeBuilder<span class="token punctuation">)</span> <span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>b <span class="token operator">*</span>kingjeeBuilder<span class="token punctuation">)</span> <span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ShoppingMall <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token operator">&amp;</span>b<span class="token punctuation">.</span>kkone
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-9"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token comment">// Government is a director</span>
<span class="token keyword">type</span> Government <span class="token keyword">struct</span> <span class="token punctuation">&#123;</span>
  builder Builder
  city    ChinaCity
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token function">NewGovernment</span><span class="token punctuation">(</span>city ChinaCity<span class="token punctuation">)</span> <span class="token operator">*</span>Government <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> city <span class="token punctuation">&#123;</span>
  <span class="token keyword">case</span> ShenzhenCity<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>Government<span class="token punctuation">&#123;</span>
      city<span class="token punctuation">:</span> ShenzhenCity<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>

  <span class="token keyword">case</span> ShanghaiCity<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>Government<span class="token punctuation">&#123;</span>
      city<span class="token punctuation">:</span> ShanghaiCity<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>

  <span class="token keyword">case</span> BeijingCity<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>Government<span class="token punctuation">&#123;</span>
      city<span class="token punctuation">:</span> BeijingCity<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">// ...</span>
  <span class="token keyword">default</span><span class="token punctuation">:</span>

  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Government<span class="token punctuation">)</span> <span class="token function">SetBuilder</span><span class="token punctuation">(</span>b Builder<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  g<span class="token punctuation">.</span>builder <span class="token operator">=</span> b
<span class="token punctuation">&#125;</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>g <span class="token operator">*</span>Government<span class="token punctuation">)</span> <span class="token function">BuildSHoppingMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span> ShoppingMall <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> g<span class="token punctuation">.</span>builder <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token boolean">nil</span>
  <span class="token punctuation">&#125;</span>

  g<span class="token punctuation">.</span>builder<span class="token punctuation">.</span><span class="token function">Design</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  g<span class="token punctuation">.</span>builder<span class="token punctuation">.</span><span class="token function">Construction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> g<span class="token punctuation">.</span>builder<span class="token punctuation">.</span><span class="token function">Mall</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="builder-go-版本-10"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> builder

<span class="token keyword">import</span> <span class="token string">"testing"</span>

<span class="token keyword">func</span> <span class="token function">TestBuilder</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  gov <span class="token operator">:=</span> <span class="token function">NewGovernment</span><span class="token punctuation">(</span>ShenzhenCity<span class="token punctuation">)</span>
  <span class="token keyword">if</span> gov <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  <span class="token comment">// 华润</span>
  gov<span class="token punctuation">.</span><span class="token function">SetBuilder</span><span class="token punctuation">(</span><span class="token function">NewCrcBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  mall <span class="token operator">:=</span> gov<span class="token punctuation">.</span><span class="token function">BuildSHoppingMall</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> mall <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">&#125;</span>

  t<span class="token punctuation">.</span><span class="token function">Log</span><span class="token punctuation">(</span>mall<span class="token punctuation">.</span><span class="token function">GetName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h3 id="原型模式-Prototype"><a href="#原型模式-Prototype" class="headerlink" title="原型模式(Prototype)"></a>原型模式(Prototype)</h3><h4 id="原型模式的介绍"><a href="#原型模式的介绍" class="headerlink" title="原型模式的介绍"></a>原型模式的介绍</h4><p>Overall, the Prototype pattern can be a useful tool for creating objects in a more efficient and flexible way. By leveraging existing objects, you can avoid unnecessary duplication and improve the performance of your application.</p>
<br/>

<h4 id="原型模式实现-C"><a href="#原型模式实现-C" class="headerlink" title="原型模式实现(C++)"></a>原型模式实现(C++)</h4><div class="tabs" id="prototype-in-c++"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#prototype-in-c++-1">C++ 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="prototype-in-c++-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h4 id="原型模式实现-Go"><a href="#原型模式实现-Go" class="headerlink" title="原型模式实现(Go)"></a>原型模式实现(Go)</h4><div class="tabs" id="prototype-in-go"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#prototype-in-go-1">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="prototype-in-go-1"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<br/>

<h2 id="结构型模式"><a href="#结构型模式" class="headerlink" title="结构型模式"></a>结构型模式</h2><h3 id="外观模式-Facade"><a href="#外观模式-Facade" class="headerlink" title="外观模式(Facade)"></a>外观模式(Facade)</h3><div class="tabs" id="facade"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#facade-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#facade-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="facade-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="facade-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<h3 id="适配器模式-Adapter"><a href="#适配器模式-Adapter" class="headerlink" title="适配器模式(Adapter)"></a>适配器模式(Adapter)</h3><div class="tabs" id="adapter"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#adapter-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#adapter-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="adapter-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="adapter-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="代理模式-Proxy"><a href="#代理模式-Proxy" class="headerlink" title="代理模式(Proxy)"></a>代理模式(Proxy)</h3><div class="tabs" id="proxy"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#proxy-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#proxy-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="proxy-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="proxy-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="组合模式-Composite"><a href="#组合模式-Composite" class="headerlink" title="组合模式(Composite)"></a>组合模式(Composite)</h3><div class="tabs" id="composite"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#composite-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#composite-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="composite-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="composite-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="享元模式-Flyweight"><a href="#享元模式-Flyweight" class="headerlink" title="享元模式(Flyweight)"></a>享元模式(Flyweight)</h3><div class="tabs" id="flyweight"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#flyweight-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#flyweight-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="flyweight-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="flyweight-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="装饰模式-Decorator"><a href="#装饰模式-Decorator" class="headerlink" title="装饰模式(Decorator)"></a>装饰模式(Decorator)</h3><div class="tabs" id="decorator"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#decorator-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#decorator-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="decorator-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="decorator-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="桥模式-Bridge"><a href="#桥模式-Bridge" class="headerlink" title="桥模式(Bridge)"></a>桥模式(Bridge)</h3><div class="tabs" id="bridge"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#bridge-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#bridge-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="bridge-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="bridge-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>

<br/>

<h2 id="行为模式"><a href="#行为模式" class="headerlink" title="#行为模式"></a>#行为模式</h2><h3 id="中介者模式-Mediator"><a href="#中介者模式-Mediator" class="headerlink" title="中介者模式(Mediator)"></a>中介者模式(Mediator)</h3><div class="tabs" id="mediator"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#mediator-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#mediator-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="mediator-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="mediator-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="观察者模式-Observer"><a href="#观察者模式-Observer" class="headerlink" title="观察者模式(Observer)"></a>观察者模式(Observer)</h3><div class="tabs" id="observer"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#observer-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#observer-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="observer-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="observer-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="命令模式-Command"><a href="#命令模式-Command" class="headerlink" title="命令模式(Command)"></a>命令模式(Command)</h3><div class="tabs" id="command"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#command-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#command-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="command-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="command-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="迭代器模式-Iterator"><a href="#迭代器模式-Iterator" class="headerlink" title="迭代器模式(Iterator)"></a>迭代器模式(Iterator)</h3><div class="tabs" id="iterator"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#iterator-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#iterator-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="iterator-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="iterator-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="模板方法模式-Template-Method"><a href="#模板方法模式-Template-Method" class="headerlink" title="模板方法模式(Template Method)"></a>模板方法模式(Template Method)</h3><div class="tabs" id="template-method"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#template-method-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#template-method-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="template-method-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="template-method-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="策略模式-Strategy"><a href="#策略模式-Strategy" class="headerlink" title="策略模式(Strategy)"></a>策略模式(Strategy)</h3><div class="tabs" id="strategy"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#strategy-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#strategy-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="strategy-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="strategy-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="状态模式-State"><a href="#状态模式-State" class="headerlink" title="状态模式(State)"></a>状态模式(State)</h3><div class="tabs" id="state"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#state-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#state-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="state-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="state-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="备忘录模式-Memento"><a href="#备忘录模式-Memento" class="headerlink" title="备忘录模式(Memento)"></a>备忘录模式(Memento)</h3><div class="tabs" id="memento"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#memento-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#memento-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="memento-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="memento-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="解释器模式-Interpreter"><a href="#解释器模式-Interpreter" class="headerlink" title="解释器模式(Interpreter)"></a>解释器模式(Interpreter)</h3><div class="tabs" id="interpreter"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#interpreter-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#interpreter-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="interpreter-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="interpreter-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="责任链模式-Chain-of-Responsibility"><a href="#责任链模式-Chain-of-Responsibility" class="headerlink" title="责任链模式(Chain of Responsibility)"></a>责任链模式(Chain of Responsibility)</h3><div class="tabs" id="chain-of-responsibility"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#chain-of-responsibility-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#chain-of-responsibility-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="chain-of-responsibility-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="chain-of-responsibility-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h3 id="访问者模式-Visitor"><a href="#访问者模式-Visitor" class="headerlink" title="访问者模式(Visitor)"></a>访问者模式(Visitor)</h3><div class="tabs" id="visitor"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#visitor-1">C++ 版本</button></li><li class="tab"><button type="button" data-href="#visitor-2">Go 版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="visitor-1"><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="visitor-2"><pre class="line-numbers language-go" data-language="go"><code class="language-go"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>

<br/>



<h2 id="其他模式"><a href="#其他模式" class="headerlink" title="其他模式"></a>其他模式</h2><h3 id="依赖注入-Dependency-Injection"><a href="#依赖注入-Dependency-Injection" class="headerlink" title="依赖注入(Dependency Injection)"></a>依赖注入(Dependency Injection)</h3><h4 id="依赖注入模式的介绍"><a href="#依赖注入模式的介绍" class="headerlink" title="依赖注入模式的介绍"></a>依赖注入模式的介绍</h4><p>维基百科的定义:</p>
<p>在软件工程中，<strong>依赖注入</strong>（dependency injection）的意思为，给予调用方它所需要的事物。</p>
<ul>
<li>“依赖”是指可被方法调用的事物。依赖注入形式下，调用方不再直接使用”依赖”，取而代之是”注入”。</li>
<li>“注入”是指将“依赖”传递给调用方的过程。在”注入”之后，调用方才会调用该”依赖”。</li>
<li>传递依赖给调用方，而不是让让调用方直接获得依赖，这个是该设计的根本需求。</li>
</ul>
<p>依赖注入的好处:</p>
<p><strong>依赖注入处理的关键问题是解耦</strong>，解耦在代码工程学中的好处显而易见：<strong>代码扩展性强，可维护性增强以及更容易的进行单元测试</strong>。</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/467874556">https://zhuanlan.zhihu.com/p/467874556</a></p>
<br/>

<h4 id="依赖注入模式实现-Go"><a href="#依赖注入模式实现-Go" class="headerlink" title="依赖注入模式实现(Go)"></a>依赖注入模式实现(Go)</h4></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">JoyChen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2020/07/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/design%20patterns/">http://example.com/2020/07/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/design%20patterns/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">JoyChen's 知识星球</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></div><div class="post_share"><div class="social-share" data-image="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-5.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/04/08/C++%20%E6%96%B0%E7%89%B9%E6%80%A7/%E6%96%B0%E7%89%B9%E6%80%A7%EF%BC%88%E4%B8%80%EF%BC%89%E8%AF%AD%E8%A8%80%E5%8F%AF%E7%94%A8%E6%80%A7%E7%9A%84%E5%BC%BA%E5%8C%96/"><img class="prev-cover" src="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">C++1x 新特性（一）语言可用性的强化</div></div></a></div><div class="next-post pull-right"><a href="/2020/07/13/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8E%9F%E5%88%99%E6%A6%82%E8%A6%81/"><img class="next-cover" src="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-3.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">设计模式原则概要</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/04/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DDD%E6%80%9D%E6%83%B3%E5%8F%8A%E5%AE%9E%E8%B7%B5/" title="DDD设计模式"><img class="cover" src="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-12.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-04-11</div><div class="title">DDD设计模式</div></div></a></div><div><a href="/2020/07/13/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8E%9F%E5%88%99%E6%A6%82%E8%A6%81/" title="设计模式原则概要"><img class="cover" src="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-3.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-13</div><div class="title">设计模式原则概要</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">JoyChen</div><div class="author-info__description">If you haven't found it yet Keep looking Don't settle</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">64</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">46</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/JoyChenNo1"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/JoyChenNo1" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:joychenisno1@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">创建型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F-Singleton"><span class="toc-number">1.1.</span> <span class="toc-text">单例模式(Singleton)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.1.</span> <span class="toc-text">单例模式介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-C"><span class="toc-number">1.1.2.</span> <span class="toc-text">单例模式实现(C++)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-Go"><span class="toc-number">1.1.3.</span> <span class="toc-text">单例模式实现(Go)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Simple-Factory"><span class="toc-number">1.2.</span> <span class="toc-text">简单工厂模式(Simple Factory)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.1.</span> <span class="toc-text">简单工厂模式介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-C"><span class="toc-number">1.2.2.</span> <span class="toc-text">简单工厂模式实现(C++)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-Go"><span class="toc-number">1.2.3.</span> <span class="toc-text">简单工厂模式实现(Go)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Factory-Method"><span class="toc-number">1.3.</span> <span class="toc-text">工厂方法模式(Factory Method)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.1.</span> <span class="toc-text">工厂方法模式介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-C"><span class="toc-number">1.3.2.</span> <span class="toc-text">工厂方法模式实现(C++)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-Go"><span class="toc-number">1.3.3.</span> <span class="toc-text">工厂方法模式实现(Go)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F-Abstract-Factory"><span class="toc-number">1.4.</span> <span class="toc-text">抽象工厂模式(Abstract Factory)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.4.1.</span> <span class="toc-text">抽象工厂模式的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-C"><span class="toc-number">1.4.2.</span> <span class="toc-text">抽象工厂模式实现(C++)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-Go"><span class="toc-number">1.4.3.</span> <span class="toc-text">抽象工厂模式实现(Go)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%80%85%E6%A8%A1%E5%BC%8F-Builder"><span class="toc-number">1.5.</span> <span class="toc-text">创建者模式(Builder)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%80%85%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.5.1.</span> <span class="toc-text">创建者模式的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%80%85%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-C"><span class="toc-number">1.5.2.</span> <span class="toc-text">创建者模式实现(C++)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%80%85%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-Go"><span class="toc-number">1.5.3.</span> <span class="toc-text">创建者模式实现(Go)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F-Prototype"><span class="toc-number">1.6.</span> <span class="toc-text">原型模式(Prototype)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.6.1.</span> <span class="toc-text">原型模式的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-C"><span class="toc-number">1.6.2.</span> <span class="toc-text">原型模式实现(C++)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-Go"><span class="toc-number">1.6.3.</span> <span class="toc-text">原型模式实现(Go)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">结构型模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F-Facade"><span class="toc-number">2.1.</span> <span class="toc-text">外观模式(Facade)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F-Adapter"><span class="toc-number">2.2.</span> <span class="toc-text">适配器模式(Adapter)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F-Proxy"><span class="toc-number">2.3.</span> <span class="toc-text">代理模式(Proxy)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F-Composite"><span class="toc-number">2.4.</span> <span class="toc-text">组合模式(Composite)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F-Flyweight"><span class="toc-number">2.5.</span> <span class="toc-text">享元模式(Flyweight)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F-Decorator"><span class="toc-number">2.6.</span> <span class="toc-text">装饰模式(Decorator)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%A5%E6%A8%A1%E5%BC%8F-Bridge"><span class="toc-number">2.7.</span> <span class="toc-text">桥模式(Bridge)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">#行为模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F-Mediator"><span class="toc-number">3.1.</span> <span class="toc-text">中介者模式(Mediator)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F-Observer"><span class="toc-number">3.2.</span> <span class="toc-text">观察者模式(Observer)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F-Command"><span class="toc-number">3.3.</span> <span class="toc-text">命令模式(Command)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F-Iterator"><span class="toc-number">3.4.</span> <span class="toc-text">迭代器模式(Iterator)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F-Template-Method"><span class="toc-number">3.5.</span> <span class="toc-text">模板方法模式(Template Method)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F-Strategy"><span class="toc-number">3.6.</span> <span class="toc-text">策略模式(Strategy)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F-State"><span class="toc-number">3.7.</span> <span class="toc-text">状态模式(State)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F-Memento"><span class="toc-number">3.8.</span> <span class="toc-text">备忘录模式(Memento)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F-Interpreter"><span class="toc-number">3.9.</span> <span class="toc-text">解释器模式(Interpreter)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F-Chain-of-Responsibility"><span class="toc-number">3.10.</span> <span class="toc-text">责任链模式(Chain of Responsibility)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F-Visitor"><span class="toc-number">3.11.</span> <span class="toc-text">访问者模式(Visitor)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">其他模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5-Dependency-Injection"><span class="toc-number">4.1.</span> <span class="toc-text">依赖注入(Dependency Injection)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E4%BB%8B%E7%BB%8D"><span class="toc-number">4.1.1.</span> <span class="toc-text">依赖注入模式的介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0-Go"><span class="toc-number">4.1.2.</span> <span class="toc-text">依赖注入模式实现(Go)</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/04/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DDD%E6%80%9D%E6%83%B3%E5%8F%8A%E5%AE%9E%E8%B7%B5/" title="DDD设计模式"><img src="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-12.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DDD设计模式"/></a><div class="content"><a class="title" href="/2024/04/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/DDD%E6%80%9D%E6%83%B3%E5%8F%8A%E5%AE%9E%E8%B7%B5/" title="DDD设计模式">DDD设计模式</a><time datetime="2024-04-11T14:08:00.000Z" title="发表于 2024-04-11 22:08:00">2024-04-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/14/%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA/Docker%20build/" title="Docker 基础镜像构建示例"><img src="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker 基础镜像构建示例"/></a><div class="content"><a class="title" href="/2024/01/14/%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA/Docker%20build/" title="Docker 基础镜像构建示例">Docker 基础镜像构建示例</a><time datetime="2024-01-14T12:08:00.000Z" title="发表于 2024-01-14 20:08:00">2024-01-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/13/%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95/go-tool%E4%B9%8Bpprof%E7%9A%84%E4%BD%BF%E7%94%A8/" title="go 服务调试之pprof"><img src="https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="go 服务调试之pprof"/></a><div class="content"><a class="title" href="/2024/01/13/%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95/go-tool%E4%B9%8Bpprof%E7%9A%84%E4%BD%BF%E7%94%A8/" title="go 服务调试之pprof">go 服务调试之pprof</a><time datetime="2024-01-13T12:08:00.000Z" title="发表于 2024-01-13 20:08:00">2024-01-13</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://github.com/JoyChenNo1/JoyChenNo1.github.io/raw/master/img/random/material-5.png')"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2024 By JoyChen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script></div><!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/hexo-tag-common@latest/js/index.js"></script><!-- hexo injector body_end end --></body></html>